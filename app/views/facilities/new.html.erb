<div class="new-facility">
  <div class="new-facility--form">
    <h2>施設情報</h2>
    <%= form_with model: @facility, local: true do |f| %>
      <div class="new-facility--form-group">
        <%= f.label :Name %><br>
        <%= render "layouts/error_messages", model: @facility, attribute: :name %>
        <%= f.text_field :name %><br>
      </div>

      <div class="new-facility--form-group">
        <%= f.attachment_field :facility_image %><br>
      </div>

      <div class="new-facility--form-group">
        <%= f.label :営業時間 %><br>
        <%= render "layouts/error_messages", model: @facility, attribute: :opening %>
        <%= render "layouts/error_messages", model: @facility, attribute: :closing %>
        <%= f.time_select :opening, prompt:true %> ~ <%= f.time_select :closing, prompt:true %><br>
      </div>

      <div class="new-facility--form-group">
        <%= f.label :電話番号 %><br>
        <%= render "layouts/error_messages", model: @facility, attribute: :phone_number %>
        <%= f.text_field :phone_number %><br>
      </div>

      <div class="new-facility--form-group">
        <%= f.label :メールアドレス %><br>
        <%= render "layouts/error_messages", model: @facility, attribute: :email %>
        <%= f.text_field :email %><br>
      </div>

      <div class="new-facility--form-group">
        <%= f.label :郵便番号 %><br>
        <%= render "layouts/error_messages", model: @facility, attribute: :postcode %>
        <%= f.text_field :postcode %><br>
      </div>

      <div class="new-facility--form-group">
        <%= f.label :住所 %><br>
        <%= render "layouts/error_messages", model: @facility, attribute: :address %>
        <%= f.text_field :address %><br>
      </div>

      <div class="new-facility--form-group">
        <%= f.label :最寄り駅 %><br>
        <%= render "layouts/error_messages", model: @facility, attribute: :station %>
        <%= f.text_field :station %><br>
      </div>

      <div class="new-facility--form-group">
        <%= f.label :駐車場 %><br>
        <%= render "layouts/error_messages", model: @facility, attribute: :parking %>
        <%= f.text_field :parking %><br>
      </div>

      <div class="new-post--address">
          <%= f.fields_for :facility_place do |s| %>
            <%= s.label :address, "レビュー場所(Google Mapで検索)", class: 'spot__title' %><br>
            <%= render "layouts/error_messages", model: @facility, attribute: :address %>
            <%= s.text_field :address, placeholder: "場所をシェアしよう！", id: "address", class: "spot__text new-post--address-form" %><br>
            <%= s.button onclick: "codeAddress()", type: "button", class: "new-post--search-map" do %>
              <i class="fas fa-search-location"></i><br>
            <% end %>
          <% end %>
        </div>
        <%= f.submit "投稿する", class: "new-post--submit btn btn-success" %>
    <% end %>
  </div>
  <div class="new-facility--map">
    <div class="map" id="map"></div>
  </div>
</div>

<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBKzm8Q1CsziI929WJM-dQQlwV1L3MpydY&callback=initMap"></script>
<script src="//cdn.rawgit.com/mahnunchik/markerclustererplus/master/dist/markerclusterer.min.js"></script>
<script src="//cdn.rawgit.com/printercu/google-maps-utility-library-v3-read-only/master/infobox/src/infobox_packed.js", type:"text/javascript"></script>
